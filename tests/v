const { expect } = require('chai');
const { insertUnit } = require('../controllers/db/inventory');

describe('db/inventory', () => {
  it('insertUnit returns new id', async () => {
    const db = {
      promise() {
        return {
          async query() {
            return [{ insertId: 7 }];
          },
        };
      },
    };
    const id = await insertUnit(db, { name: 'Test', abbreviation: 'T', type: 'w', toBase: 1 });
    expect(id).to.equal(7);
  });
});
